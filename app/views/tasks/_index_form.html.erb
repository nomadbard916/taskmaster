<% if tasks.nil? %>
<% return %>
<% else %>
<!--Task items -->
<% tasks.each do |t|%>



<div class="row">
    <div id="content" class="col-6">
        <%= t.content%>

        <span id="buttons" class="float-right">


            <!-- Admin can delete tasks only; how could tasks be modified by a different role? -->
            <% if session[:admin]%>
            <button class="btn btn-danger">
                <%= link_to 'Delete', {controller:"admins", action:"delete_task", id: t.id}, method: :delete,
                class:"text-white",
                data: {confirm: "Are you sure? \nThis can't be undone."}  %>
            </button>
            <% else %>
            <button class="btn btn-success">
                <%= link_to 'Edit', edit_task_path(t), class: "text-white" %>
            </button>
            <%end%>


        </span>
    </div>

    <div id="deadline" class="col-3">
        <%= t.deadline%>
    </div>

    <div id="priority" class="col-1">
        <%= t.priority %>
    </div>

    <div id="status" class="col-2">
        <p>
            <%= t.status %>
        </p>

        <% if t.finished_at %>
        <p id="finished-time" class="text-success">
            Finished time:
            <br>
            <%= t.finished_at%>
        </p>
        <% end %>

    </div>
</div>
<hr>


<% end %>

<%= paginate   tasks %>

<%end %>

<br>
<br>